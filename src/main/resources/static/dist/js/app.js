(function(){"use strict";var e={1442:function(e,t,s){var n=s(9242),o=s(3396),i=s(7139);function r(e,t,s,n,r,a){const l=(0,o.up)("DeletePopup"),c=(0,o.up)("MainNavigation"),u=(0,o.up)("SessionList"),d=(0,o.up)("CodeList"),p=(0,o.up)("UserList");return(0,o.wg)(),(0,o.iD)("section",{class:(0,i.C_)(["main-content w-50 mx-auto",{background:`rgba(0, 0, 0, ${this.backgroundVisibility})`}])},[this.deletePopupVisible?((0,o.wg)(),(0,o.j4)(l,{key:0,element:this.elementToDelete,onDeletionConfirmed:a.confirmDeletion,onDeletionCanceled:a.hideDeletePopup},null,8,["element","onDeletionConfirmed","onDeletionCanceled"])):(0,o.kq)("",!0),(0,o.Wm)(c,{onSessions:t[0]||(t[0]=e=>a.show("sessions")),onCodes:t[1]||(t[1]=e=>a.show("codes")),onProfile:t[2]||(t[2]=e=>a.show("profile"))}),"sessions"===this.selected?((0,o.wg)(),(0,o.j4)(u,{key:1,onShowDeletePopup:a.showDeletePopup},null,8,["onShowDeletePopup"])):(0,o.kq)("",!0),"codes"===this.selected?((0,o.wg)(),(0,o.j4)(d,{key:2})):(0,o.kq)("",!0),"profile"===this.selected?((0,o.wg)(),(0,o.j4)(p,{key:3,elementToDelete:this.elementToDelete,onDoneDeleting:a.hideDeletePopup},null,8,["elementToDelete","onDoneDeleting"])):(0,o.kq)("",!0)],2)}const a=e=>((0,o.dD)("data-v-36af0ef4"),e=e(),(0,o.Cn)(),e),l=a((()=>(0,o._)("a",{href:"../mainPage"}," Accueil ",-1)));function c(e,t,s,n,r,a){return(0,o.wg)(),(0,o.iD)("nav",null,[(0,o._)("div",{class:"",onClick:t[0]||(t[0]=e=>a.setActiveTab("sessions"))},[(0,o._)("a",{class:(0,i.C_)(["",{active:"sessions"===r.activeTab}]),"aria-current":"page",href:"#"},"Sessions",2)]),(0,o._)("div",{class:"",onClick:t[1]||(t[1]=e=>a.setActiveTab("codes"))},[(0,o._)("a",{class:(0,i.C_)(["",{active:"codes"===r.activeTab}]),href:"#",tabindex:"-1","aria-disabled":"true"},"Codes",2)]),(0,o._)("div",{class:"",onClick:t[2]||(t[2]=e=>a.setActiveTab("profile"))},[(0,o._)("a",{class:(0,i.C_)(["",{active:"profile"===r.activeTab}]),href:"#",tabindex:"-1","aria-disabled":"true"},"Profile",2)]),l])}var u={name:"app",emits:["sessions","codes","profile"],data(){return{activeTab:"sessions"}},methods:{setActiveTab(e){this.activeTab=e,this.$emit(this.activeTab),console.log("Changing active tab to : "+this.activeTab)}}},d=s(89);const p=(0,d.Z)(u,[["render",c],["__scopeId","data-v-36af0ef4"]]);var m=p;const h={class:"window"},g={class:"boutons"};function f(e,t,s,n,r,a){return(0,o.wg)(),(0,o.iD)("dialog",h,[(0,o._)("p",null,"Voulez vous vraiment supprimer "+(0,i.zw)(this.element),1),(0,o._)("div",g,[(0,o._)("button",{class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>a.confirmDeletion&&a.confirmDeletion(...e))},"Supprimer"),(0,o._)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...e)=>a.cancelDeletion&&a.cancelDeletion(...e))},"Annuler")])])}var b={name:"DeletePopup",props:["element"],methods:{confirmDeletion(){this.$emit("deletion-confirmed",this.element)},cancelDeletion(){this.$emit("deletion-canceled")}}};const w=(0,d.Z)(b,[["render",f]]);var v=w;const y={class:"sessions-list pt-3"},D={key:1,class:"fw-bold"};function k(e,t,s,n,i,r){const a=(0,o.up)("AlertPopUp"),l=(0,o.up)("session-list-item");return(0,o.wg)(),(0,o.iD)("div",y,[""!==e.alertMessage?((0,o.wg)(),(0,o.j4)(a,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:t[0]||(t[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,o.kq)("",!0),0===e.sessions.length&&""===this.alertMessage?((0,o.wg)(),(0,o.iD)("p",D,"Aucune Session créée")):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:2},(0,o.Ko)(e.sessions,(e=>((0,o.wg)(),(0,o.j4)(l,{session:e,key:e.id},null,8,["session"])))),128))])}const _={class:"building border border-secondary rounded p-2 mb-2"},T={class:"top-row d-flex"},C={class:"fw-bold pe-3"},U={class:"text-muted"},S={class:"text-muted"},M={class:"text-muted"},P={class:"text-muted"};function F(e,t,s,n,r,a){return(0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("div",T,[(0,o._)("div",C,(0,i.zw)(s.session.name),1),(0,o._)("div",U,"Id de la session : "+(0,i.zw)(s.session.password),1),(0,o._)("div",S,"Date de création : "+(0,i.zw)(s.session.startDate),1),(0,o._)("div",M,"Date de fin : "+(0,i.zw)(s.session.endDate),1),(0,o._)("div",P,"Nombre d'utilisateur maximum : "+(0,i.zw)(s.session.nombreMax),1)])])}var I={name:"SessionListItem",props:["session"]};const j=(0,d.Z)(I,[["render",F]]);var A=j;const x={class:"error-message"};function L(e,t,s,n,r,a){return(0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)(["alert d-flex align-items-center justify-content-center","alert-"+this.type]),role:"alert"},[(0,o._)("p",x,(0,i.zw)(this.message),1),(0,o._)("button",{type:"button",class:"btn-close ms-auto",onClick:t[0]||(t[0]=(...e)=>a.closeAlert&&a.closeAlert(...e))})],2)}var $={name:"AlertPopUp",props:["message","type"],methods:{closeAlert(){this.$emit("close-alert")}}};const z=(0,d.Z)($,[["render",L],["__scopeId","data-v-01aadc60"]]);var O=z,Z={components:{AlertPopUp:O,SessionListItem:A},name:"SessionList",data:function(){return{sessions:[],alertMessage:"",alertType:""}},created:async function(){fetch("/api/sessions").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.sessions=e}))}};const H=(0,d.Z)(Z,[["render",k]]);var V=H;const q={class:"codes-list pt-3"};function Y(e,t,s,n,i,r){const a=(0,o.up)("AlertPopUp"),l=(0,o.up)("CodeListItem");return(0,o.wg)(),(0,o.iD)("div",q,[""!==e.alertMessage?((0,o.wg)(),(0,o.j4)(a,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:t[0]||(t[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.codes,(e=>((0,o.wg)(),(0,o.j4)(l,{code:e,key:e.id},null,8,["code"])))),128))])}const E={class:"building border border-secondary rounded p-2 mb-2"},N={class:"fw-bold pe-3"},K=(0,o._)("hr",null,null,-1),R=(0,o._)("button",{class:"btn btn-danger"},"Supprimer",-1);function J(e,t,s,n,r,a){const l=(0,o.up)("InstructionListItem");return(0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("div",N,(0,i.zw)(s.code.name),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.sortedInstructions,(e=>((0,o.wg)(),(0,o.j4)(l,{instruction:e,key:e.id},null,8,["instruction"])))),128)),K,R])}const W=(0,o._)("hr",null,null,-1),B={class:"text-muted"};function G(e,t,s,n,r,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[W,(0,o._)("div",B,(0,i.zw)(s.instruction.name),1)],64)}var Q={name:"InstructionListItem",props:["instruction"]};const X=(0,d.Z)(Q,[["render",G]]);var ee=X,te={components:{InstructionListItem:ee},name:"CodeListItem",props:["code"],computed:{sortedInstructions(){return this.code.instructions.slice().sort(((e,t)=>e.orderInCode-t.orderInCode))}}};const se=(0,d.Z)(te,[["render",J]]);var ne=se,oe={components:{AlertPopUp:O,CodeListItem:ne},name:"CodeList",data:function(){return{codes:[],alertMessage:"",alertType:""}},created:async function(){fetch("/api/codes").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.codes=e}))}};const ie=(0,d.Z)(oe,[["render",Y]]);var re=ie;const ae={class:"user-list pt-3"};function le(e,t,s,n,i,r){const a=(0,o.up)("AlertPopUp"),l=(0,o.up)("UserListItem");return(0,o.wg)(),(0,o.iD)(o.HY,null,[""!==e.alertMessage?((0,o.wg)(),(0,o.j4)(a,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:t[0]||(t[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,o.kq)("",!0),(0,o._)("div",ae,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.users,(e=>((0,o.wg)(),(0,o.j4)(l,{user:e,key:e.id,onUpdateUser:r.updateUser,onDeleteClick:r.handleDelete},null,8,["user","onUpdateUser","onDeleteClick"])))),128))])],64)}const ce={class:"border border-secondary rounded p-2 mb-2"},ue={class:"top-row d-flex"},de={class:"fw-bold pe-3"},pe=(0,o._)("hr",null,null,-1),me={class:"d-flex"},he={class:"text-muted pe-3"},ge=(0,o._)("hr",null,null,-1),fe={class:"d-flex"},be={class:"text-muted pe-3"},we=(0,o._)("hr",null,null,-1),ve={class:"bottom-row d-flew"};function ye(e,t,s,n,r,a){const l=(0,o.up)("AlertPopUp"),c=(0,o.up)("UserForm");return(0,o.wg)(),(0,o.iD)("div",ce,[""!==r.alertMessage?((0,o.wg)(),(0,o.j4)(l,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:t[0]||(t[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,o.kq)("",!0),(0,o._)("div",ue,[(0,o._)("div",de,"Nom d'utilisateur : "+(0,i.zw)(s.user.username),1),r.usernameForm?((0,o.wg)(),(0,o.j4)(c,{key:1,usage:"username",id:s.user.id,onCancel:t[2]||(t[2]=e=>r.usernameForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:t[1]||(t[1]=e=>r.usernameForm=!0)},"Modifier"))]),pe,(0,o._)("div",me,[(0,o._)("div",he,"Email : "+(0,i.zw)(s.user.email),1),r.emailForm?((0,o.wg)(),(0,o.j4)(c,{key:1,usage:"email",id:s.user.id,onCancel:t[4]||(t[4]=e=>r.emailForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:t[3]||(t[3]=e=>r.emailForm=!0)},"Modifier"))]),ge,(0,o._)("div",fe,[(0,o._)("div",be,"Mot de passe : "+(0,i.zw)(s.user.password),1),r.passwordForm?((0,o.wg)(),(0,o.j4)(c,{key:1,usage:"password",id:s.user.id,onCancel:t[6]||(t[6]=e=>r.passwordForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:t[5]||(t[5]=e=>r.passwordForm=!0)},"Modifier"))]),we,(0,o._)("div",ve,[(0,o._)("button",{class:"btn btn-danger",onClick:t[7]||(t[7]=(...e)=>a.handleDeleteClick&&a.handleDeleteClick(...e))},"Supprimer")])])}const De=(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Modifier",-1);function ke(e,t,s,i,r,a){return(0,o.wg)(),(0,o.iD)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>a.handleSubmit&&a.handleSubmit(...e)),["prevent"]))},[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.userInput=e),type:"text",class:"form-control mb-3 space-between-elements"},null,512),[[n.nr,r.userInput]]),De,(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=e=>this.$emit("cancel"))},"Annuler")],32)}var _e={name:"UserForm",props:["usage","id"],created(){console.log("Received prop usage:",this.usage),console.log("Received prop usage:",this.id)},data(){return{userInput:"",endpoint:"/api/users",dataToSend:{}}},methods:{async handleSubmit(){this.endpoint="/api/users/"+String(this.id),""===this.userInput?(console.log("Missing argument"),this.$emit("update-failed","Missing argument: "+this.usage)):(console.log(this.userInput),console.log(this.usage),this.dataToSend={[this.usage]:this.userInput},console.log(this.dataToSend),fetch(this.endpoint,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(this.dataToSend)}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{console.log("Update successful:",e),this.$emit("update-success",e,this.usage)})).catch((e=>{this.$emit("update-failed",e.message),console.error("Update failed:",e.message)})))}}};const Te=(0,d.Z)(_e,[["render",ke]]);var Ce=Te,Ue={name:"UserListItem",components:{AlertPopUp:O,UserForm:Ce},props:["user"],data(){return{usernameForm:!1,emailForm:!1,passwordForm:!1,alertMessage:"",alertType:""}},methods:{handleUpdateSuccess(e,t){this.$emit("update-user",e),this.alertMessage="Changement réussi",this.alertType="success","username"===t?this.usernameForm=!1:"email"===t?this.emailForm=!1:"password"===t&&(this.passwordForm=!1)},handleUpdateFail(e){this.alertMessage=e,this.alertType="danger"},handleDeleteClick(){this.$emit("delete-click",this.user)}}};const Se=(0,d.Z)(Ue,[["render",ye]]);var Me=Se,Pe={name:"UserList",components:{AlertPopUp:O,UserListItem:Me},props:["elementToDelete"],data:function(){return{users:[],alertMessage:"",alertType:""}},setup(e){(0,o.YP)((()=>e.elementToDelete),((e,t)=>{e!==t&&this.handleDeleteConfirmed(e)}))},created:async function(){fetch("/api/users").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.users=e}))},methods:{updateUser(e){const t=this.users.findIndex((t=>t.id===e.id));-1!==t&&(this.users[t]=e)},handleDelete(e){this.$emit("show-delete-popup",e.name)},handleDeleteConfirmed(e){this.userList=this.userList.filter((t=>t.name!==e.name))}}};const Fe=(0,d.Z)(Pe,[["render",le]]);var Ie=Fe,je={name:"App",components:{DeletePopup:v,UserList:Ie,CodeList:re,SessionList:V,MainNavigation:m},data:function(){return{selected:"sessions",backgroundVisibility:0,deletePopupVisible:!1,elementToDelete:null}},methods:{show(e){this.selected=e},showDeletePopup(e){this.backgroundVisibility=.5,this.deletePopupVisible=!0,this.elementToDelete=e},hideDeletePopup(){this.backgroundVisibility=0,this.deletePopupVisible=!1,this.elementToDelete=null},confirmDeletion(e){this.elementToDelete=e}}};const Ae=(0,d.Z)(je,[["render",r],["__scopeId","data-v-40f72878"]]);var xe=Ae;(0,n.ri)(xe).mount("#app")}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,n,o,i){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],i=e[u][2];for(var a=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(a=!1,i<r&&(r=i));if(a){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,r=n[0],a=n[1],l=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var u=l(s)}for(t&&t(n);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},n=self["webpackChunkwebsite_protech_vue"]=self["webpackChunkwebsite_protech_vue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(1442)}));n=s.O(n)})();
//# sourceMappingURL=app.js.map