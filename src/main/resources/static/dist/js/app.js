(function(){"use strict";var e={2540:function(e,s,t){var n=t(9242),o=t(3396);const r={class:"content"};function a(e,s,t,n,a,i){const l=(0,o.up)("MainNavigation"),c=(0,o.up)("SessionList"),d=(0,o.up)("CodeList"),u=(0,o.up)("UserList");return(0,o.wg)(),(0,o.iD)("section",r,[(0,o.Wm)(l,{onSessions:s[0]||(s[0]=e=>i.show("sessions")),onCodes:s[1]||(s[1]=e=>i.show("codes")),onProfile:s[2]||(s[2]=e=>i.show("profile"))}),"sessions"===this.selected?((0,o.wg)(),(0,o.j4)(c,{key:0})):(0,o.kq)("",!0),"codes"===this.selected?((0,o.wg)(),(0,o.j4)(d,{key:1})):(0,o.kq)("",!0),"profile"===this.selected?((0,o.wg)(),(0,o.j4)(u,{key:2})):(0,o.kq)("",!0)])}var i=t(7139);const l=e=>((0,o.dD)("data-v-ffcdcd42"),e=e(),(0,o.Cn)(),e),c=l((()=>(0,o._)("div",{class:"contain-link"},[(0,o._)("a",{class:"link",href:"../pageTeacher.html"}," Accueil ")],-1)));function d(e,s,t,n,r,a){return(0,o.wg)(),(0,o.iD)("nav",null,[c,(0,o._)("div",{class:"contain-link",onClick:s[0]||(s[0]=e=>a.setActiveTab("sessions"))},[(0,o._)("a",{class:(0,i.C_)(["link",{active:"sessions"===r.activeTab}]),"aria-current":"page",href:"#"},"Sessions",2)]),(0,o._)("div",{class:"contain-link",onClick:s[1]||(s[1]=e=>a.setActiveTab("codes"))},[(0,o._)("a",{class:(0,i.C_)(["link",{active:"codes"===r.activeTab}]),href:"#",tabindex:"-1","aria-disabled":"true"},"Codes",2)]),(0,o._)("div",{class:"contain-link",onClick:s[2]||(s[2]=e=>a.setActiveTab("profile"))},[(0,o._)("a",{class:(0,i.C_)(["link",{active:"profile"===r.activeTab}]),href:"#",tabindex:"-1","aria-disabled":"true"},"Profile",2)])])}var u={name:"app",emits:["sessions","codes","profile"],data(){return{activeTab:"sessions"}},methods:{setActiveTab(e){this.activeTab=e,this.$emit(this.activeTab),console.log("Changing active tab to : "+this.activeTab)}}},p=t(89);const m=(0,p.Z)(u,[["render",d],["__scopeId","data-v-ffcdcd42"]]);var h=m;const g={class:"sessions-list pt-3"},f={key:1,class:"fw-bold"};function v(e,s,t,n,r,a){const i=(0,o.up)("AlertPopUp"),l=(0,o.up)("session-list-item");return(0,o.wg)(),(0,o.iD)("div",g,[""!==e.alertMessage?((0,o.wg)(),(0,o.j4)(i,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:s[0]||(s[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,o.kq)("",!0),0===e.sessions.length&&""===this.alertMessage?((0,o.wg)(),(0,o.iD)("p",f,"Aucune Session créée")):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:2},(0,o.Ko)(e.sessions,(e=>((0,o.wg)(),(0,o.j4)(l,{session:e,key:e.id},null,8,["session"])))),128))])}const w={class:"building border border-secondary rounded p-2 mb-2"},b={class:"top-row d-flex"},y={class:"fw-bold pe-3"},_={class:"text-muted"},k={class:"text-muted"},U={class:"text-muted"},T={class:"text-muted"};function S(e,s,t,n,r,a){return(0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("div",b,[(0,o._)("div",y,(0,i.zw)(t.session.name),1),(0,o._)("div",_,"Id de la session : "+(0,i.zw)(t.session.password),1),(0,o._)("div",k,"Date de création : "+(0,i.zw)(t.session.startDate),1),(0,o._)("div",U,"Date de fin : "+(0,i.zw)(t.session.endDate),1),(0,o._)("div",T,"Nombre d'utilisateur maximum : "+(0,i.zw)(t.session.nombreMax),1)])])}var C={name:"SessionListItem",props:["session"]};const M=(0,p.Z)(C,[["render",S]]);var I=M;const F={class:"error-message"};function j(e,s,t,n,r,a){return(0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)(["alert d-flex align-items-center justify-content-center","alert-"+this.type]),role:"alert"},[(0,o._)("p",F,(0,i.zw)(this.message),1),(0,o._)("button",{type:"button",class:"btn-close ms-auto",onClick:s[0]||(s[0]=(...e)=>a.closeAlert&&a.closeAlert(...e))})],2)}var A={name:"AlertPopUp",props:["message","type"],methods:{closeAlert(){this.$emit("close-alert")}}};const D=(0,p.Z)(A,[["render",j],["__scopeId","data-v-01aadc60"]]);var x=D,L={components:{AlertPopUp:x,SessionListItem:I},name:"SessionList",data:function(){return{sessions:[],alertMessage:"",alertType:""}},created:async function(){fetch("/api/sessions").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.sessions=e}))}};const P=(0,p.Z)(L,[["render",v],["__scopeId","data-v-7e92d3ba"]]);var O=P;const $={class:"codes-list pt-3"};function z(e,s,t,n,r,a){const i=(0,o.up)("AlertPopUp"),l=(0,o.up)("CodeListItem");return(0,o.wg)(),(0,o.iD)("div",$,[""!==e.alertMessage?((0,o.wg)(),(0,o.j4)(i,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:s[0]||(s[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.codes,(e=>((0,o.wg)(),(0,o.j4)(l,{code:e,key:e.id},null,8,["code"])))),128))])}const Z={class:"building border border-secondary rounded p-2 mb-2"},H={class:"fw-bold pe-3"},E=(0,o._)("hr",null,null,-1),q=(0,o._)("button",{class:"btn btn-danger"},"Supprimer",-1);function Y(e,s,t,n,r,a){const l=(0,o.up)("InstructionListItem");return(0,o.wg)(),(0,o.iD)("div",Z,[(0,o._)("div",H,(0,i.zw)(t.code.name),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.sortedInstructions,(e=>((0,o.wg)(),(0,o.j4)(l,{instruction:e,key:e.id},null,8,["instruction"])))),128)),E,q])}const N=(0,o._)("hr",null,null,-1),K={class:"text-muted"};function R(e,s,t,n,r,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[N,(0,o._)("div",K,(0,i.zw)(t.instruction.name),1)],64)}var J={name:"InstructionListItem",props:["instruction"]};const V=(0,p.Z)(J,[["render",R]]);var W=V,B={components:{InstructionListItem:W},name:"CodeListItem",props:["code"],computed:{sortedInstructions(){return this.code.instructions.slice().sort(((e,s)=>e.orderInCode-s.orderInCode))}}};const G=(0,p.Z)(B,[["render",Y]]);var Q=G,X={components:{AlertPopUp:x,CodeListItem:Q},name:"CodeList",data:function(){return{codes:[],alertMessage:"",alertType:""}},created:async function(){fetch("/api/codes").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.codes=e}))}};const ee=(0,p.Z)(X,[["render",z],["__scopeId","data-v-37606da8"]]);var se=ee;const te={class:"user-list pt-3"};function ne(e,s,t,n,r,a){const i=(0,o.up)("AlertPopUp"),l=(0,o.up)("UserListItem");return(0,o.wg)(),(0,o.iD)(o.HY,null,[""!==e.alertMessage?((0,o.wg)(),(0,o.j4)(i,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:s[0]||(s[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,o.kq)("",!0),(0,o._)("div",te,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.users,(s=>((0,o.wg)(),(0,o.j4)(l,{user:s,key:s.id,onUpdateUser:a.updateUser,onError:e.handleUpdateError},null,8,["user","onUpdateUser","onError"])))),128))])],64)}const oe={class:"border border-secondary rounded p-2 mb-2"},re={class:"top-row d-flex"},ae={class:"fw-bold pe-3"},ie=(0,o._)("hr",null,null,-1),le={class:"d-flex"},ce={class:"text-muted pe-3"},de=(0,o._)("hr",null,null,-1),ue={class:"d-flex"},pe={class:"text-muted pe-3"},me=(0,o._)("hr",null,null,-1),he=(0,o._)("div",{class:"bottom-row d-flew"},[(0,o._)("button",{class:"btn btn-danger"},"Supprimer")],-1);function ge(e,s,t,n,r,a){const l=(0,o.up)("AlertPopUp"),c=(0,o.up)("UserForm");return(0,o.wg)(),(0,o.iD)("div",oe,[""!==r.alertMessage?((0,o.wg)(),(0,o.j4)(l,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:s[0]||(s[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,o.kq)("",!0),(0,o._)("div",re,[(0,o._)("div",ae,"Nom d'utilisateur : "+(0,i.zw)(t.user.username),1),r.usernameForm?((0,o.wg)(),(0,o.j4)(c,{key:1,usage:"username",id:t.user.id,onCancel:s[2]||(s[2]=e=>r.usernameForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:s[1]||(s[1]=e=>r.usernameForm=!0)},"Modifier"))]),ie,(0,o._)("div",le,[(0,o._)("div",ce,"Email : "+(0,i.zw)(t.user.email),1),r.emailForm?((0,o.wg)(),(0,o.j4)(c,{key:1,usage:"email",id:t.user.id,onCancel:s[4]||(s[4]=e=>r.emailForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:s[3]||(s[3]=e=>r.emailForm=!0)},"Modifier"))]),de,(0,o._)("div",ue,[(0,o._)("div",pe,"Mot de passe : "+(0,i.zw)(t.user.password),1),r.passwordForm?((0,o.wg)(),(0,o.j4)(c,{key:1,usage:"password",id:t.user.id,onCancel:s[6]||(s[6]=e=>r.passwordForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:s[5]||(s[5]=e=>r.passwordForm=!0)},"Modifier"))]),me,he])}const fe=(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Modifier",-1);function ve(e,s,t,r,a,i){return(0,o.wg)(),(0,o.iD)("form",{onSubmit:s[2]||(s[2]=(0,n.iM)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.userInput=e),type:"text",class:"form-control mb-3 space-between-elements"},null,512),[[n.nr,a.userInput]]),fe,(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:s[1]||(s[1]=e=>this.$emit("cancel"))},"Annuler")],32)}var we={name:"UserForm",props:["usage","id"],created(){console.log("Received prop usage:",this.usage),console.log("Received prop usage:",this.id)},data(){return{userInput:"",endpoint:"/api/users",dataToSend:{}}},methods:{async handleSubmit(){this.endpoint="/api/users/"+String(this.id),""===this.userInput?(console.log("Missing argument"),this.$emit("update-failed","Missing argument: "+this.usage)):(console.log(this.userInput),console.log(this.usage),this.dataToSend={[this.usage]:this.userInput},console.log(this.dataToSend),fetch(this.endpoint,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(this.dataToSend)}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{console.log("Update successful:",e),this.$emit("update-success",e,this.usage)})).catch((e=>{this.$emit("update-failed",e.message),console.error("Update failed:",e.message)})))}}};const be=(0,p.Z)(we,[["render",ve]]);var ye=be,_e={name:"UserListItem",components:{AlertPopUp:x,UserForm:ye},props:["user"],data(){return{usernameForm:!1,emailForm:!1,passwordForm:!1,alertMessage:"",alertType:""}},methods:{handleUpdateSuccess(e,s){this.$emit("update-user",e),this.alertMessage="Changement réussi",this.alertType="success","username"===s?this.usernameForm=!1:"email"===s?this.emailForm=!1:"password"===s&&(this.passwordForm=!1)},handleUpdateFail(e){this.$emit("error",e),this.alertMessage=e,this.alertType="danger"}}};const ke=(0,p.Z)(_e,[["render",ge]]);var Ue=ke,Te={name:"UserList",components:{AlertPopUp:x,UserListItem:Ue},data:function(){return{users:[],alertMessage:"",alertType:""}},created:async function(){fetch("/api/users").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.users=e}))},methods:{updateUser(e){const s=this.users.findIndex((s=>s.id===e.id));-1!==s&&(this.users[s]=e)}}};const Se=(0,p.Z)(Te,[["render",ne],["__scopeId","data-v-1ef81a64"]]);var Ce=Se,Me={name:"App",components:{UserList:Ce,CodeList:se,SessionList:O,MainNavigation:h},data:function(){return{selected:"sessions"}},methods:{show(e){this.selected=e}}};const Ie=(0,p.Z)(Me,[["render",a],["__scopeId","data-v-ee569b5e"]]);var Fe=Ie;(0,n.ri)(Fe).mount("#app")}},s={};function t(n){var o=s[n];if(void 0!==o)return o.exports;var r=s[n]={exports:{}};return e[n].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(s,n,o,r){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(t.O).every((function(e){return t.O[e](n[l])}))?n.splice(l--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(s=c)}}return s}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,n){var o,r,a=n[0],i=n[1],l=n[2],c=0;if(a.some((function(s){return 0!==e[s]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(l)var d=l(t)}for(s&&s(n);c<a.length;c++)r=a[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},n=self["webpackChunkwebsite_protech_vue"]=self["webpackChunkwebsite_protech_vue"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(2540)}));n=t.O(n)})();
//# sourceMappingURL=app.js.map