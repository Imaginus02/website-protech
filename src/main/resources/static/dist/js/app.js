(function(){"use strict";var e={1902:function(e,s,t){var n=t(9242),r=t(3396);const o={class:"main-content w-50 mx-auto"};function a(e,s,t,n,a,i){const l=(0,r.up)("MainNavigation"),c=(0,r.up)("SessionList"),u=(0,r.up)("CodeList"),d=(0,r.up)("UserList");return(0,r.wg)(),(0,r.iD)("section",o,[(0,r.Wm)(l,{onSessions:s[0]||(s[0]=e=>i.show("sessions")),onCodes:s[1]||(s[1]=e=>i.show("codes")),onProfile:s[2]||(s[2]=e=>i.show("profile"))}),"sessions"===this.selected?((0,r.wg)(),(0,r.j4)(c,{key:0})):(0,r.kq)("",!0),"codes"===this.selected?((0,r.wg)(),(0,r.j4)(u,{key:1})):(0,r.kq)("",!0),"profile"===this.selected?((0,r.wg)(),(0,r.j4)(d,{key:2})):(0,r.kq)("",!0)])}var i=t(7139);const l={class:"nav nav-tabs"};function c(e,s,t,n,o,a){return(0,r.wg)(),(0,r.iD)("ul",l,[(0,r._)("li",{class:"nav-item",onClick:s[0]||(s[0]=e=>a.setActiveTab("sessions"))},[(0,r._)("a",{class:(0,i.C_)(["nav-link",{active:"sessions"===o.activeTab}]),"aria-current":"page",href:"#"},"Sessions",2)]),(0,r._)("li",{class:"nav-item",onClick:s[1]||(s[1]=e=>a.setActiveTab("codes"))},[(0,r._)("a",{class:(0,i.C_)(["nav-link",{active:"codes"===o.activeTab}]),href:"#",tabindex:"-1","aria-disabled":"true"},"Codes",2)]),(0,r._)("li",{class:"nav-item",onClick:s[2]||(s[2]=e=>a.setActiveTab("profile"))},[(0,r._)("a",{class:(0,i.C_)(["nav-link",{active:"profile"===o.activeTab}]),href:"#",tabindex:"-1","aria-disabled":"true"},"Profile",2)])])}var u={name:"app",emits:["sessions","codes","profile"],data(){return{activeTab:"sessions"}},methods:{setActiveTab(e){this.activeTab=e,this.$emit(this.activeTab),console.log("Changing active tab to : "+this.activeTab)}}},d=t(89);const p=(0,d.Z)(u,[["render",c]]);var m=p;const h={class:"sessions-list pt-3"},g={key:1,class:"fw-bold"};function f(e,s,t,n,o,a){const i=(0,r.up)("AlertPopUp"),l=(0,r.up)("session-list-item");return(0,r.wg)(),(0,r.iD)("div",h,[""!==e.alertMessage?((0,r.wg)(),(0,r.j4)(i,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:s[0]||(s[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,r.kq)("",!0),0===e.sessions.length&&""===this.alertMessage?((0,r.wg)(),(0,r.iD)("p",g,"Aucune Session créée")):((0,r.wg)(!0),(0,r.iD)(r.HY,{key:2},(0,r.Ko)(e.sessions,(e=>((0,r.wg)(),(0,r.j4)(l,{session:e,key:e.id},null,8,["session"])))),128))])}const v={class:"building border border-secondary rounded p-2 mb-2"},w={class:"top-row d-flex"},b={class:"fw-bold pe-3"},y={class:"text-muted"},k={class:"text-muted"},U={class:"text-muted"},_={class:"text-muted"};function T(e,s,t,n,o,a){return(0,r.wg)(),(0,r.iD)("div",v,[(0,r._)("div",w,[(0,r._)("div",b,(0,i.zw)(t.session.name),1),(0,r._)("div",y,"Id de la session : "+(0,i.zw)(t.session.password),1),(0,r._)("div",k,"Date de création : "+(0,i.zw)(t.session.startDate),1),(0,r._)("div",U,"Date de fin : "+(0,i.zw)(t.session.endDate),1),(0,r._)("div",_,"Nombre d'utilisateur maximum : "+(0,i.zw)(t.session.nombreMax),1)])])}var S={name:"SessionListItem",props:["session"]};const C=(0,d.Z)(S,[["render",T]]);var M=C;const F={class:"error-message"};function I(e,s,t,n,o,a){return(0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)(["alert d-flex align-items-center","alert-"+this.type]),role:"alert"},[(0,r._)("p",F,(0,i.zw)(this.message),1),(0,r._)("button",{type:"button",class:"btn-close ms-auto",onClick:s[0]||(s[0]=(...e)=>a.closeAlert&&a.closeAlert(...e))})],2)}var j={name:"AlertPopUp",props:["message","type"],methods:{closeAlert(){this.$emit("close-alert")}}};const x=(0,d.Z)(j,[["render",I],["__scopeId","data-v-20770544"]]);var A=x,D={components:{AlertPopUp:A,SessionListItem:M},name:"SessionList",data:function(){return{sessions:[],alertMessage:"",alertType:""}},created:async function(){fetch("/api/sessions").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.sessions=e}))}};const L=(0,d.Z)(D,[["render",f]]);var P=L;const O={class:"codes-list pt-3"};function $(e,s,t,n,o,a){const i=(0,r.up)("AlertPopUp"),l=(0,r.up)("CodeListItem");return(0,r.wg)(),(0,r.iD)("div",O,[""!==e.alertMessage?((0,r.wg)(),(0,r.j4)(i,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:s[0]||(s[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.codes,(e=>((0,r.wg)(),(0,r.j4)(l,{code:e,key:e.id},null,8,["code"])))),128))])}const z={class:"building border border-secondary rounded p-2 mb-2"},Z={class:"fw-bold pe-3"},H=(0,r._)("hr",null,null,-1),E=(0,r._)("button",{class:"btn btn-danger"},"Supprimer",-1);function q(e,s,t,n,o,a){const l=(0,r.up)("InstructionListItem");return(0,r.wg)(),(0,r.iD)("div",z,[(0,r._)("div",Z,(0,i.zw)(t.code.name),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.sortedInstructions,(e=>((0,r.wg)(),(0,r.j4)(l,{instruction:e,key:e.id},null,8,["instruction"])))),128)),H,E])}const Y=(0,r._)("hr",null,null,-1),N={class:"text-muted"};function K(e,s,t,n,o,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[Y,(0,r._)("div",N,(0,i.zw)(t.instruction.name),1)],64)}var R={name:"InstructionListItem",props:["instruction"]};const J=(0,d.Z)(R,[["render",K]]);var V=J,W={components:{InstructionListItem:V},name:"CodeListItem",props:["code"],computed:{sortedInstructions(){return this.code.instructions.slice().sort(((e,s)=>e.orderInCode-s.orderInCode))}}};const B=(0,d.Z)(W,[["render",q]]);var G=B,Q={components:{AlertPopUp:A,CodeListItem:G},name:"CodeList",data:function(){return{codes:[],alertMessage:"",alertType:""}},created:async function(){fetch("/api/codes").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.codes=e}))}};const X=(0,d.Z)(Q,[["render",$]]);var ee=X;const se={class:"user-list pt-3"};function te(e,s,t,n,o,a){const i=(0,r.up)("AlertPopUp"),l=(0,r.up)("UserListItem");return(0,r.wg)(),(0,r.iD)(r.HY,null,[""!==e.alertMessage?((0,r.wg)(),(0,r.j4)(i,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:s[0]||(s[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,r.kq)("",!0),(0,r._)("div",se,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.users,(s=>((0,r.wg)(),(0,r.j4)(l,{user:s,key:s.id,onUpdateUser:a.updateUser,onError:e.handleUpdateError},null,8,["user","onUpdateUser","onError"])))),128))])],64)}const ne={class:"border border-secondary rounded p-2 mb-2"},re={class:"top-row d-flex"},oe={class:"fw-bold pe-3"},ae=(0,r._)("hr",null,null,-1),ie={class:"d-flex"},le={class:"text-muted pe-3"},ce=(0,r._)("hr",null,null,-1),ue={class:"d-flex"},de={class:"text-muted pe-3"},pe=(0,r._)("hr",null,null,-1),me=(0,r._)("div",{class:"bottom-row d-flew"},[(0,r._)("button",{class:"btn btn-danger"},"Supprimer")],-1);function he(e,s,t,n,o,a){const l=(0,r.up)("AlertPopUp"),c=(0,r.up)("UserForm");return(0,r.wg)(),(0,r.iD)("div",ne,[""!==o.alertMessage?((0,r.wg)(),(0,r.j4)(l,{key:0,message:this.alertMessage,type:this.alertType,onCloseAlert:s[0]||(s[0]=e=>{this.alertMessage="",this.alertType=""})},null,8,["message","type"])):(0,r.kq)("",!0),(0,r._)("div",re,[(0,r._)("div",oe,"Nom d'utilisateur : "+(0,i.zw)(t.user.username),1),o.usernameForm?((0,r.wg)(),(0,r.j4)(c,{key:1,usage:"username",id:t.user.id,onCancel:s[2]||(s[2]=e=>o.usernameForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:s[1]||(s[1]=e=>o.usernameForm=!0)},"Modifier"))]),ae,(0,r._)("div",ie,[(0,r._)("div",le,"Email : "+(0,i.zw)(t.user.email),1),o.emailForm?((0,r.wg)(),(0,r.j4)(c,{key:1,usage:"email",id:t.user.id,onCancel:s[4]||(s[4]=e=>o.emailForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:s[3]||(s[3]=e=>o.emailForm=!0)},"Modifier"))]),ce,(0,r._)("div",ue,[(0,r._)("div",de,"Mot de passe : "+(0,i.zw)(t.user.password),1),o.passwordForm?((0,r.wg)(),(0,r.j4)(c,{key:1,usage:"password",id:t.user.id,onCancel:s[6]||(s[6]=e=>o.passwordForm=!1),onUpdateSuccess:a.handleUpdateSuccess,onUpdateFailed:a.handleUpdateFail},null,8,["id","onUpdateSuccess","onUpdateFailed"])):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-secondary ms-auto",onClick:s[5]||(s[5]=e=>o.passwordForm=!0)},"Modifier"))]),pe,me])}const ge=(0,r._)("button",{type:"submit",class:"btn btn-primary"},"Modifier",-1);function fe(e,s,t,o,a,i){return(0,r.wg)(),(0,r.iD)("form",{onSubmit:s[2]||(s[2]=(0,n.iM)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.userInput=e),type:"text",class:"form-control mb-3 space-between-elements"},null,512),[[n.nr,a.userInput]]),ge,(0,r._)("button",{type:"button",class:"btn btn-secondary",onClick:s[1]||(s[1]=e=>this.$emit("cancel"))},"Annuler")],32)}var ve={name:"UserForm",props:["usage","id"],created(){console.log("Received prop usage:",this.usage),console.log("Received prop usage:",this.id)},data(){return{userInput:"",endpoint:"/api/users",dataToSend:{}}},methods:{async handleSubmit(){this.endpoint="/api/users/"+String(this.id),""===this.userInput?(console.log("Missing argument"),this.$emit("update-failed","Missing argument: "+this.usage)):(console.log(this.userInput),console.log(this.usage),this.dataToSend={[this.usage]:this.userInput},console.log(this.dataToSend),fetch(this.endpoint,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(this.dataToSend)}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{console.log("Update successful:",e),this.$emit("update-success",e,this.usage)})).catch((e=>{this.$emit("update-failed",e.message),console.error("Update failed:",e.message)})))}}};const we=(0,d.Z)(ve,[["render",fe]]);var be=we,ye={name:"UserListItem",components:{AlertPopUp:A,UserForm:be},props:["user"],data(){return{usernameForm:!1,emailForm:!1,passwordForm:!1,alertMessage:"",alertType:""}},methods:{handleUpdateSuccess(e,s){this.$emit("update-user",e),this.alertMessage="Changement réussi",this.alertType="success","username"===s?this.usernameForm=!1:"email"===s?this.emailForm=!1:"password"===s&&(this.passwordForm=!1)},handleUpdateFail(e){this.$emit("error",e),this.alertMessage=e,this.alertType="danger"}}};const ke=(0,d.Z)(ye,[["render",he]]);var Ue=ke,_e={name:"UserList",components:{AlertPopUp:A,UserListItem:Ue},data:function(){return{users:[],alertMessage:"",alertType:""}},created:async function(){fetch("/api/users").then((e=>{if(!e.ok)throw this.alertMessage=`HTTP error! Status: ${e.status}`,this.alertType="danger",new Error("Server response was not ok");return console.log(e),e.json()})).then((e=>{console.log(e),this.users=e}))},methods:{updateUser(e){const s=this.users.findIndex((s=>s.id===e.id));-1!==s&&(this.users[s]=e)}}};const Te=(0,d.Z)(_e,[["render",te]]);var Se=Te,Ce={name:"App",components:{UserList:Se,CodeList:ee,SessionList:P,MainNavigation:m},data:function(){return{selected:"sessions"}},methods:{show(e){this.selected=e}}};const Me=(0,d.Z)(Ce,[["render",a],["__scopeId","data-v-6bf1aa0d"]]);var Fe=Me;(0,n.ri)(Fe).mount("#app")}},s={};function t(n){var r=s[n];if(void 0!==r)return r.exports;var o=s[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(s,n,r,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],o=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(t.O).every((function(e){return t.O[e](n[l])}))?n.splice(l--,1):(i=!1,o<a&&(a=o));if(i){e.splice(u--,1);var c=r();void 0!==c&&(s=c)}}return s}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,n){var r,o,a=n[0],i=n[1],l=n[2],c=0;if(a.some((function(s){return 0!==e[s]}))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(l)var u=l(t)}for(s&&s(n);c<a.length;c++)o=a[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},n=self["webpackChunkwebsite_protech_vue"]=self["webpackChunkwebsite_protech_vue"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(1902)}));n=t.O(n)})();
//# sourceMappingURL=app.js.map